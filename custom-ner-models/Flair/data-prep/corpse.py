import pandas as pd
from tqdm import tqdm
from difflib import SequenceMatcher
import re
import pickle

def matcher(string, pattern):
    '''
    Return the start and end index of any pattern present in the text.
    '''
    print(pattern)
    match_list = []
    pattern = pattern.strip()
    #pattern = pattern.lower()
    print(pattern)
    seqMatch = SequenceMatcher(None, string.lower(), pattern.lower(), autojunk=False)
    match = seqMatch.find_longest_match(0, len(string), 0, len(pattern))
    if (match.size == len(pattern)):
        start = match.a
        end = match.a + match.size
        match_tup = (start, end)
        string = string.replace(pattern, "X" * len(pattern), 1)
        match_list.append(match_tup)
        
    return match_list, string

def mark_sentence(s, match_list):
    '''
    Marks all the entities in the sentence as per the BIO scheme. 
    '''
    word_dict = {}
    for word in s.split():
        word_dict[word] = 'O'
        
    for start, end, e_type in match_list:
        temp_str = s[start:end]
        tmp_list = temp_str.split()
        if len(tmp_list) > 1:
            word_dict[tmp_list[0]] = 'B-' + e_type
            for w in tmp_list[1:]:
                word_dict[w] = 'I-' + e_type
        else:
            word_dict[temp_str] = 'B-' + e_type
    return word_dict

def clean(text):
    '''
    Just a helper fuction to add a space before the punctuations for better tokenization
    '''
    filters = ["!", "#", "$", "%", "&", "(", ")", "/", "*", ".", ":", ";", "<", "=", ">", "?", "@", "[",
               "\\", "]", "_", "`", "{", "}", "~", "'"]
    for i in text:
        if i in filters:
            text = text.replace(i, " " + i)
            
    return text

def create_data(df, filepath):
    '''
    The function responsible for the creation of data in the said format.
    '''
    with open(filepath , 'w') as f:
        for text, annotation in zip(df.text, df.annotation):
            text = clean(text)
            print(text)
            text_ = text        
            match_list = []
            for i in annotation:
                a, text_ = matcher(text, i[0])
                print(a)
                match_list.append((a[0][0], a[0][1], i[1]))

            d = mark_sentence(text, match_list)

            for i in d.keys():
                f.writelines(i + ' ' + d[i] +'\n')
            f.writelines('\n')
            
def main():
    ## An example dataframe.
    data = pd.DataFrame([["Horses are too tall and they pretend to care about your feelings", [("Horses", "ANIMAL")]],
                  ["Who is Shaka Khan?", [("Shaka Khan", "PERSON")]],
                  ["I like London and Berlin.", [("London", "LOCATION"), ("Berlin", "LOCATION")]],
                  ["There is a banyan tree in the courtyard", [("banyan tree", "TREE")]]], columns=['text', 'annotation'])

    data1 = pd.DataFrame([
["What is the price of Redmi Note 9?",[("Redmi Note 9","PRODUCTNAME"),("Price","PRICING")]],["Poco M2 has 5000 mAh battery",[("Poco M2","PRODUCTNAME")]],["Motorola Edge 20 is sleek and stylish",[("Motorola Edge 20","PRODUCTNAME")]],["Apple Iphone is costly",[("Apple Iphone","PRODUCTNAME"),("cost","PRICING")]],["Roadster is a cheap and good brand",[("Roadster","PRODUCTNAME"),("Cheap","PRICING")]],["If you are having cold, use Dolo",[("Dolo","PRODUCTNAME")]],["Boat, JBL, Infinty are headphone brands",[("Boat","PRODUCTNAME"),("JBL","PRODUCTNAME"),("Infinty","PRODUCTNAME")]],["What all comes in Gym Workout Kit?",[("Gym workout Kit","PRODUCTNAME")]],["Cashew nut is Expensive",[("Cashew Nut","PRODUCTNAME"),("Expensive","PRICING")]],["What price range laptop do you want",[("Laptop","PRODUCTNAME"),("Price","PRICING")]],["How much does a 4K TV cost",[("4K TV","PRODUCTNAME"),("cost","PRICING")]],["MRF, Ceat, Kookabura manufature cricket bat",[("Cricket Bat","PRODUCTNAME"),("MRF","PRODUCTNAME"),("Ceat","PRODUCTNAME"),("Kookabura","PRODUCTNAME")]],["Normal size of football is 5",[("Football","PRODUCTNAME")]],["Samsung M51 has 6000 mAh battery",[("Samsung M51","PRODUCTNAME")]],["Ashirvad Atta is a popular grocery brand",[("Ashirvad Atta","PRODUCTNAME"),("Grocery","CATEGORY")]],["Sunflower Oil is not good for health",[("Sunflower Oil","PRODUCTNAME")]],["Yonex Rcquets are good quality badminton racquets",[("badminton","PRODUCTNAME")]],["Realme Narzo 5G is one of the latest product of Realme",[("Realme Narzo 5G","PRODUCTNAME")]],["Bata Footwear is one brand that is in Indain market for years",[("Bata Footwear","PRODUCTNAME"),("footwear","PRODUCTNAME")]],["Fashion Sale is on.",[("Fashion","CATEGORY")]],["Different colors of tshirts are available",[("Tshirt","PRODUCTNAME")]],["Trivandrum is far away from Bangalore",[("Trivandrum","CITY"),("Bangalore","CITY")]],["Delhi is the capital of India",[("India","CITY"),("Delhi","CITY")]],["Roasted almond is delicious.",[("Roasted Almond","PRODUCTNAME")]],["Price of most of the items are average.",[("Average","PRICING")]],["Various different mobile cases are available  here",[("Mobile Case","PRODUCTNAME"),("Mobile","CATEGORY")]],["Poco M2, Motorola edge 20, Apple Iphone, Samsung M51 are mobile brands",[("Poco M2","PRODUCTNAME"),("Motorola Edge 20","PRODUCTNAME"),("Apple Iphone","PRODUCTNAME"),("Samsung M51","PRODUCTNAME"),("Mobile","CATEGORY")]],["I want sunflower oil",[("Sunflower Oil","PRODUCTNAME")]],["Is roasted almonds available",[("Roasted Almond","PRODUCTNAME")]],["Almonds, Sunflower oil, atta etc are grocery items",[("Sunflower Oil","PRODUCTNAME"),("Grocery","CATEGORY")]],["Football, cricket, badminton, tennis, golf etc are sports items",[("badminton","PRODUCTNAME"),("Football","PRODUCTNAME"),("Sports","CATEGORY")]],["Cricket bat is used to play cricket, which is a sport",[("Cricket Bat","PRODUCTNAME")]],["T-shirt, jeans, sweaters, shoes are fashion items",[("T-shirt","PRODUCTNAME"),("jeans","PRODUCTNAME"),("sweaters","PRODUCTNAME"),("shoes","PRODUCTNAME"),("Fashion","CATEGORY")]],["What is the price of Samsung Note",[("Samsung Note","PRODUCTNAME"),("Price","PRICING")]],["Show me some T-shirt suggestions",[("T-shirt","PRODUCTNAME")]],["Is Realme Narzo 5G good",[("Realme Narzo 5G","PRODUCTNAME")]],["What is the price of carromboard",[("Carromboard","PRODUCTNAME"),("Price","PRICING")]],["What is the capacity of realme powerbank",[("Realme PowerBank","PRODUCTNAME")]],["Tv, fridge, washing machine, monitor, keyboard, mouse etc are electronics items",[("Electronics","CATEGORY")]],["Is there any electronics items available",[("Electronics","CATEGORY")]],["What are the electronics items available",[("Electronics","CATEGORY")]],["Give me suggestions for mobiles",[("Mobile","CATEGORY")]],["Give me suggestions for grocery items",[("Grocery","CATEGORY")]],["Which all grocery items are available",[("Grocery","CATEGORY")]],["Suggest me some latest fashion and trends",[("Fashion","CATEGORY")]],["What are the new items in fashion category",[("Fashion","CATEGORY")]],["I am looking for sports items",[("Sports","CATEGORY")]],["I want sports items",[("Sports","CATEGORY")]],["Is sports items available",[("Sports","CATEGORY")]],["Give me recommendations on fashion items",[("Fashion","CATEGORY")]],["What is the price of a product",[("Price","PRICING")]],["How much does it cost",[("cost","PRICING")]],["Which price range you are looking for",[("Price","PRICING")]],["What should be the cost of the product",[("cost","PRICING")]],["Do you want expensive one",[("Expensive","PRICING")]],["Is a cheaper model available",[("Cheap","PRICING")]],["Suggest me a higher priced model",[("Price","PRICING"),("high","PRICING")]],["I want a low priced one",[("Price","PRICING")]],["Show me suggestions of average amount",[("Average","PRICING")]],["Suggest some cheap products",[("Cheap","PRICING")]],["Will it cost high",[("cost","PRICING"),("high","PRICING")]],["Is it available at Trivandrum",[("Trivandrum","CITY")]],["Can I get the delivery at Trivandrum",[("Trivandrum","CITY")]],["Is it available at Kochi",[("Kochi","CITY")]],["I want it to be delivered near Kochi",[("Kochi","CITY")]],["Is it available at Chennai",[("Chennai","CITY")]],["I want to it be delivered at Chennai",[("Chennai","CITY")]],["Kochi Chennai Trivandrum Bangalore are cities",[("Trivandrum","CITY"),("Bangalore","CITY"),("Kochi","CITY"),("Chennai","CITY")]],["Can I get the product at Bangalore",[("Bangalore","CITY")]],["I want it to be delivered at Bangalore",[("Bangalore","CITY")]],["Is it available somewhere near Bangalore",[("Bangalore","CITY")]],["I will be there at Chennai today",[("Chennai","CITY")]],["I want it to be delivered near Kollam",[("Kollam","CITY")]],["I want delivery near Kochi and Trivandrum",[("Trivandrum","CITY"),("Kochi","CITY")]],["I want 5 products",[("5 products","NUMBEROFPRODUCTS")]],["Is 2 pairs of the same product available",[("2 pairs","NUMBEROFPRODUCTS")]],["I want to get four of them",[("four of them","NUMBEROFPRODUCTS")]],["I want 3 items",[("3 items","NUMBEROFPRODUCTS")]],["I want 10 of them",[("10 of them","NUMBEROFPRODUCTS")]],["I want to get the product at morning",[("morning","TIME")]],["Can it be delivered tomorrow",[("tomorrow","TIME")]],["Is it available after 2 days",[("days","TIME")]],["I will be available at evening today",[("evening","TIME")]],["I want it to be delivered at afternoon",[("afternoon","TIME")]],["I can pick the product tomorrow morning",[("morning","TIME"),("tomorrow","TIME")]],["Will be available from 5 pm to 9 pm",[("5 pm","TIME"), ("9 pm","TIME")]],["Can the product be delivered at morning 2 am to 2 pm",[("morning","TIME"), ("2 am","TIME"),("2 pm","TIME")]],["I bought a new mobile called Samsung M51",[("Samsung M51","PRODUCTNAME"),("Mobile","CATEGORY")]],["What is the memory capacity of Poco M2",[("Poco M2","PRODUCTNAME")]],["Which is more expensive Samsung Note or Apple Iphone?",[("Apple Iphone","PRODUCTNAME"),("Samsung Note ","PRODUCTNAME"),("Samsung Note","PRODUCTNAME"),("Expensive","PRICING")]],["Cashew Nut and Peanut Butter are good for health.",[("Cashew Nut","PRODUCTNAME"),("Peanut Butter","PRODUCTNAME")]],["I've been longing to buy a DSLR Camera since I was in Banglore",[("DSLR Camera","PRODUCTNAME")]],["You get cheap T-shirts in Kochi streetshops.",[("T-shirt","PRODUCTNAME"),("Kochi","CITY"),("Cheap","PRICING")]],["Sam used to play Football with his dad every weekend.",[("Football","PRODUCTNAME")]],["Banglore is famous for fashion.",[("Fashion","CATEGORY")]],["She packed her Yonex racquet and cricket bat to the stadium.",[("Cricket Bat","PRODUCTNAME"),("Yonex racquet","PRODUCTNAME")]],["Her mom called her to ask whether she you get some Ashirvad Atta and Horlicks from the grocery store.",[("Horlicks","PRODUCTNAME"),("Ashirvad Atta","PRODUCTNAME"),("Grocery","CATEGORY")]],["Is that your bluetooth headphones?",[("Headphones","PRODUCTNAME")]],["The trainer said they would give a gym workout kit along this package.",[("Gym workout Kit","PRODUCTNAME")]],["The cat jumbed on the carromboard.",[("Carromboard","PRODUCTNAME")]],["That mobile case is awesome.",[("Mobile Case","PRODUCTNAME"),("Mobile","CATEGORY")]],["You get that Roadster T-shirt for Rs 299 in Myntra.",[("Roadster","PRODUCTNAME"),("T-shirt","PRODUCTNAME")]],["Ram bought a cheap suitcase from Chennai.",[("Suitcase","PRODUCTNAME"),("Chennai","CITY"),("Cheap","PRICING")]],["He gifted her a Motorola Edge 20 for her birthday.",[("Motorola Edge 20","PRODUCTNAME")]],["I totally rely on Bata footwear since my childhood.",[("Bata Footwear","PRODUCTNAME"),("footwear","PRODUCTNAME")]],["Ravi is planning to surprise his mom by purchasing an expensive 4K TV from the electronics store",[("4K TV","PRODUCTNAME"),("Electronics","CATEGORY"),("Expensive","PRICING")]],["They are planning to go over a staycation in GrandHyatt Trivandrum.",[("Trivandrum","CITY")]],["I ate a Dolo pill this morning 11 am.",[("Dolo","PRODUCTNAME"),("morning","TIME"), ("11 am","TIME")]],["They asked me whether  I had a laptop to work with.",[("Laptop","PRODUCTNAME")]],["What are DTH services?",[("DTH","PRODUCTNAME")]],["An eGPU can be plugged into a laptop to boost graphical performance.",[("Laptop","PRODUCTNAME"),("eGPU","PRODUCTNAME")]],["I went to the Fashion store yesterday.",[("Fashion","CATEGORY")]],["He took my earphones and never returned it.",[("Earphones","PRODUCTNAME")]],["You get averge priced DSLR camera in Amazon this month.",[("DSLR Camera","PRODUCTNAME"),("Price","PRICING")]],["There is prettygood offers for Realme Narzo 5G and Realme powerBank in Flipkart.",[("Realme PowerBank","PRODUCTNAME"),("Realme Narzo 5G","PRODUCTNAME")]],["I give Horlicks to my kids everyday.",[("Horlicks","PRODUCTNAME")]],["I wonder where she is going with those travel bags.",[("Travel bags","PRODUCTNAME")]],["I was born and brought up in Kochi.",[("Kochi","CITY")]],["My Poco M2 mobile got stolen yesterday in Trivandrum.",[("Poco M2","PRODUCTNAME"),("Trivandrum","CITY"),("Mobile","CATEGORY")]],["Use sunflower oil to make peanut butter at home.",[("Sunflower Oil","PRODUCTNAME"),("Peanut Butter","PRODUCTNAME")]],["We are planning to sell our carromboard away .",[("Carromboard","PRODUCTNAME")]],["What all are present in that gym workout kit.",[("Gym workout Kit","PRODUCTNAME")]],["Can I have a look at you Samsung Note?",[("Samsung Note","PRODUCTNAME")]],["Samsung M51 is a lot better than Redmi Note 9.",[("Redmi Note 9","PRODUCTNAME"),("Samsung M51","PRODUCTNAME")]],["You get Ashirvad Atta in almost all grocery shops .",[("Ashirvad Atta","PRODUCTNAME"),("Grocery","CATEGORY")]],["Is that a Poco M2 ?",[("Poco M2","PRODUCTNAME")]],["I have no interest in getting a Motorola Edge 20 .",[("Motorola Edge 20","PRODUCTNAME")]],["My dad used to have a  Apple Iphone .",[("Apple Iphone","PRODUCTNAME")]],["Shyam is wearing the same Roadster T-shirt as mine.",[("Roadster","PRODUCTNAME"),("T-shirt","PRODUCTNAME")]],["I used to eat Dolo when I suffered from headaches .",[("Dolo","PRODUCTNAME")]],["I served them cashew nuts and  milkshakes.",[("Cashew Nut","PRODUCTNAME")]],["Those are my new headphones.",[("Headphones","PRODUCTNAME")]],["That is a pretty good expensive laptop.",[("Laptop","PRODUCTNAME"),("Expensive","PRICING")]],["Arjun broke his Cricket Bat.",[("Cricket Bat","PRODUCTNAME")]],["He used to carry his suitcase to work everyday.",[("Suitcase","PRODUCTNAME")]],["I love my new Samsung Note mobile.",[("Samsung Note ","PRODUCTNAME"),("Samsung Note","PRODUCTNAME"),("Mobile","CATEGORY")]],["Which Horlicks flavour do you like the most?",[("Horlicks","PRODUCTNAME")]],["I used to hate watching Football matches when I was a kid.",[("Football","PRODUCTNAME")]],["Do they provide gym workout kit ?",[("Gym workout Kit","PRODUCTNAME")]],["I don't know much about that 4K TV.",[("4K TV","PRODUCTNAME")]],["I have red colour earphones.",[("Earphones","PRODUCTNAME")]],["Let me check the reviews about Redmi Note 9 and Samsung M51.",[("Redmi Note 9","PRODUCTNAME"),("Samsung M51","PRODUCTNAME")]],["I didnt include Sunflower Oil in my diet.",[("Sunflower Oil","PRODUCTNAME")]],["She used to play with her Yonex racquet.",[("Yonex racquet","PRODUCTNAME")]],["Put those travel bags in the locker room.",[("Travel bags","PRODUCTNAME")]],["I would like to take that T-shirt.",[("T-shirt","PRODUCTNAME")]],["They said that Realme PowerBank is out of stock.",[("Realme PowerBank","PRODUCTNAME")]],["I prefer taking pictures in DSLR camera than mobile camera.",[("DSLR Camera","PRODUCTNAME"),("Mobile","CATEGORY")]],["Are Realme Narzo 5G mobiles cheap in India?",[("Realme Narzo 5G","PRODUCTNAME"),("India","CITY"),("Mobile","CATEGORY"),("Cheap","PRICING")]],["I went to fetch some Ashirvad Atta , Peanut Butter, Roasted Almond along with my sister.",[("Ashirvad Atta","PRODUCTNAME"),("Peanut Butter","PRODUCTNAME"),("Roasted Almond","PRODUCTNAME")]],["I misplaced my Bata footwear in the temple.",[("Bata Footwear","PRODUCTNAME"),("footwear","PRODUCTNAME")]],["I spilled hot chocolate on my carromboard.",[("Carromboard","PRODUCTNAME")]],["That mobile case has my name on it.",[("Mobile Case","PRODUCTNAME"),("Mobile","CATEGORY")]],["What do you mean by DTH?",[("DTH","PRODUCTNAME")]],["He has less knowledge about eGPUs.",[("eGPU","PRODUCTNAME")]],["I shifted to Trivandrum for work.",[("Trivandrum","CITY")]],["The food in Bangalore is amazing.",[("Bangalore","CITY")]],["You get good banana chips in Kochi.",[("Kochi","CITY")]],["Chennai is famous for their cuisine.",[("Chennai","CITY")]],["I hate going to the grocery store.",[("Grocery","CATEGORY")]],["I dropped my mobile in the pool .",[("Mobile","CATEGORY")]],["His fashion sense is terrible.",[("Fashion","CATEGORY")]],["I opted for electronics and Communication Engineering.",[("Electronics","CATEGORY")]],["That suite is quite expensive.",[("Expensive","PRICING")]],["Those a cheap handicrafts.",[("Cheap","PRICING")]],["Roy was an average student in his class.",[("Average","PRICING")]],["Bangalore is the technology hub.",[("Bangalore","CITY")]],["Trivandrum is one of the fastest growing cities in the coountry",[("Trivandrum","CITY")]],["Delivery to locations near Kochi is delyed due to technical reasons",[("Kochi","CITY")]],["How far is kochi from Chennai?",[("Kochi","CITY"),("Chennai","CITY")]],["Main hub of our company is located at Chennai",[("Chennai","CITY")]],["It takes almost 12 hours to travel from Bangalore to Chennai",[("Bangalore","CITY"),("Chennai","CITY")]],["Pune and Mumbai are in Maharashtra",[("Pune","CITY"),("Mumbai","CITY")]],["Delhi is the capital of India",[("India","CITY"),("Delhi","CITY")]],["Kolkota is one big city in the Eastern region",[("Kolkota","CITY")]],["Bedsheets and pillow covers have special offer for next two days",[("days","TIME")]],["Big billion days in Flipkart started last week.",[("days","TIME")]],["There is special offers for grocery items this festival season",[("Grocery","CATEGORY")]],["If product delivery delayed today, then it would be delivered in the next working days",[("days","TIME")]],["India is a country with wide variety of cuisines",[("India","CITY")]],["There is 50% off for sports items bought from Decathalon",[("Sports","CATEGORY")]],["Not all pairs of footwear are good",[("footwear","PRODUCTNAME")]],["Nike, Addidas, Puma are some leading companies in fashion industry",[("Fashion","CATEGORY")]],["If it is cheap, then its quality might be compromised",[("Cheap","PRICING")]],["Is that a Poco M2 ?",[("Poco M2","PRODUCTNAME")]],["I have no interest in getting a Motorola Edge 20 .",[("Motorola Edge 20","PRODUCTNAME")]],["My dad used to have a  Apple Iphone .",[("Apple Iphone","PRODUCTNAME")]],["Shyam is wearing the same Roadster T-shirt as mine.",[("Roadster","PRODUCTNAME"),("T-shirt","PRODUCTNAME")]],["I used to eat Dolo when I suffered from headaches .",[("Dolo","PRODUCTNAME")]],["I served them cashew nuts and  milkshakes.",[("Cashew Nut","PRODUCTNAME")]],["Those are my new headphones.",[("Headphones","PRODUCTNAME")]],["That is a pretty good expensive laptop.",[("Laptop","PRODUCTNAME"),("Expensive","PRICING")]],["Arjun broke his Cricket Bat.",[("Cricket Bat","PRODUCTNAME")]],["He used to carry his suitcase to work everyday.",[("Suitcase","PRODUCTNAME")]],["I love my new Samsung Note mobile.",[("Samsung Note ","PRODUCTNAME"),("Samsung Note","PRODUCTNAME"),("Mobile","CATEGORY")]],["Which Horlicks flavour do you like the most?",[("Horlicks","PRODUCTNAME")]],["I used to hate watching Football matches when I was a kid.",[("Football","PRODUCTNAME")]],["Do they provide gym workout kit ?",[("Gym workout Kit","PRODUCTNAME")]],["I don't know much about that 4K TV.",[("4K TV","PRODUCTNAME")]],["I have red colour earphones.",[("Earphones","PRODUCTNAME")]],["Let me check the reviews about Redmi Note 9 and Samsung M51.",[("Redmi Note 9","PRODUCTNAME"),("Samsung M51","PRODUCTNAME")]],["I didnt include Sunflower Oil in my diet.",[("Sunflower Oil","PRODUCTNAME")]],["She used to play with her Yonex racquet.",[("Yonex racquet","PRODUCTNAME")]],["Put those travel bags in the locker room.",[("Travel bags","PRODUCTNAME")]],["I would like to take that T-shirt.",[("T-shirt","PRODUCTNAME")]],["They said that Realme PowerBank is out of stock.",[("Realme PowerBank","PRODUCTNAME")]],["I prefer taking pictures in DSLR camera than mobile camera.",[("DSLR Camera","PRODUCTNAME"),("Mobile","CATEGORY")]],["Are Realme Narzo 5G mobiles cheap in India?",[("Realme Narzo 5G","PRODUCTNAME"),("India","CITY"),("Mobile","CATEGORY"),("Cheap","PRICING")]],["I went to fetch some Ashirvad Atta , Peanut Butter, Roasted Almond along with my sister.",[("Ashirvad Atta","PRODUCTNAME"),("Peanut Butter","PRODUCTNAME"),("Roasted Almond","PRODUCTNAME")]],["I misplaced my Bata footwear in the temple.",[("Bata Footwear","PRODUCTNAME"),("footwear","PRODUCTNAME")]],["I spilled hot chocolate on my carromboard.",[("Carromboard","PRODUCTNAME")]],["That mobile case has my name on it.",[("Mobile Case","PRODUCTNAME"),("Mobile","CATEGORY")]],["What do you mean by DTH?",[("DTH","PRODUCTNAME")]],["He has less knowledge about eGPUs.",[("eGPU","PRODUCTNAME")]],["I shifted to Trivandrum for work.",[("Trivandrum","CITY")]],["The food in Bangalore is amazing.",[("Bangalore","CITY")]],["You get good banana chips in Kochi.",[("Kochi","CITY")]],["Chennai is famous for their cuisine.",[("Chennai","CITY")]],["I hate going to the grocery store.",[("Grocery","CATEGORY")]],["I dropped my mobile in the pool .",[("Mobile","CATEGORY")]],["His fashion sense is terrible.",[("Fashion","CATEGORY")]],["I opted for electronics and Communication Engineering.",[("Electronics","CATEGORY")]],["That suite is quite expensive.",[("Expensive","PRICING")]],["Those were cheap handicrafts.",[("Cheap","PRICING")]],["Roy was an average student in his class",[("Average","PRICING")]]

], columns=['text', 'annotation'])
    print(data.shape, data1.shape)
    #data = pd.read_csv("Book1.csv")
    ## path to save the txt file.
    filepath = 'train/train.txt'
    ## creating the file.
    create_data(data1, filepath)
    
if __name__ == '__main__':
    main()